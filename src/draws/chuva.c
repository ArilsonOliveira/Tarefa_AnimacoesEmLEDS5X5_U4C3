#include "leds.h"
#include "buzzer.h"



// Cada frame da animação de chuva de pixels
static uint32_t rain_frame0[][3] = {
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50},
    {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0},
    {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}
};

static uint32_t rain_frame1[][3] = {
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}
};

static uint32_t rain_frame2[][3] = {
    {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0},
    {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}
};

static uint32_t rain_frame3[][3] = {
    {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}
};

static uint32_t rain_frame4[][3] = {
    {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}
};

static uint32_t rain_frame5[][3] = {
    {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0},
    {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}
};

static uint32_t rain_frame6[][3] = {
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0},
    {0, 0, 0}, {0, 0, 0}, {0, 0, 50}, {0, 0, 0}, {0, 0, 0},
    {0, 0, 50}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}
};

// Função para executar a animação da chuva de pixels
void chuva_pixels() {
    static uint32_t *frames[] = {rain_frame0, rain_frame1, rain_frame2, rain_frame3, rain_frame4, rain_frame5, rain_frame6};
    int frame_count = sizeof(frames) / sizeof(frames[0]);

    for (size_t i = 0; i < frame_count; i++) {
        Leds_Show_All(frames[i], true);
        sleep_ms(5000); // Atraso entre os frames
    }
}
